---
    import { GOOGLE_MAPS_API_KEY } from "astro:env/server"
    import SocialIcons from "./share/socialIcons.astro"
---

<section class="relative h-screen w-full" id="contact">

  <!-- Contenido principal -->
  <div class=" bg-gray/5 backdrop-blur-sm relative z-10 h-full w-full flex flex-col items-center py-10 px-6 md:px-16">

    <!-- Título -->
    <h3 class="text-4xl font-bold text-raisin-black-3 text-center mb-10">Tu opinión y tus preguntas son importantes</h3>

    <!-- Grid de contenido -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 w-full">

      <!-- Mapa y ubicación -->
      <div class="flex flex-col items-center justify-start gap-6">
        <div id="map-container" class="w-full h-64 md:h-96 rounded-xl overflow-hidden shadow-lg bg-gray-200">
        
        </div>
        <span class="text-2xl font-bold text-raisin-black-3 text-center">
          Estamos ubicados en: Cra 69 #34-21 sur, Bogotá.
        </span>
      </div>

      <!-- Información de contacto -->
      <div class="grid grid-cols-1 gap-6">
        <!-- Redes Sociales -->
        <div class="bg-gray-100 backdrop-blur-md p-6 rounded-xl shadow-md flex flex-col items-center text-raisen-black-3">
          <span class="text-2xl font-bold mb-2">Redes Sociales</span>
          <SocialIcons />
        </div>

        <!-- Email -->
        <div class="bg-gray-100 backdrop-blur-md p-6 rounded-xl shadow-md flex flex-col items-center text-raisen-black-3">
          <span class="text-2xl font-bold mb-2">E-Mail</span>
          <p>
            <a href="mailto:marbuhome@gmail.com" class="underline hover:text-blue-300">
              marbuhome@gmail.com
            </a>
          </p>
        </div>

        <!-- Teléfono -->
        <div class="bg-gray-100 backdrop-blur-md p-6 rounded-xl shadow-md flex flex-col items-center text-raisen-black-3">
          <span class="text-2xl font-bold mb-2">Teléfono</span>
          <p>
            <a href="tel:+573102757056" class="underline hover:text-blue-300">
              +57 310 275 7056
            </a>
          </p>
        </div>
      </div>

    </div>
  </div>
</section>


<script src={`https://maps.googleapis.com/maps/api/js?key=${GOOGLE_MAPS_API_KEY}&callback=initMap&libraries=places,geometry`} async defer></script>

<script is:inline>
    function initMap() {
        const geocoder = new google.maps.Geocoder();
        const latlng = new google.maps.LatLng(4.6114415, -74.081749);
        const mapOptions = {
            zoom: 19,
            center: latlng
        };

        const map = new google.maps.Map(document.getElementById('map-container'), mapOptions);
        

        const address = "Cra 69 #34-21 sur, Bogotá";

        geocoder.geocode({ address: address }, function (results, status) {
            if (status === 'OK') {
                map.setCenter(results[0].geometry.location);
                new google.maps.Marker({
                    map: map,
                    position: results[0].geometry.location
                });
            } else {
                alert('Geocode failed: ' + status);
            }
        });
    }

    window.initMap = initMap;
</script>